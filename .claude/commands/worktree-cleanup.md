---
description: Clean up stale worktree administrative files and optionally remove empty directories
---

# Cleanup Git Worktrees

–û—á–∏—â–∞–µ—Ç —É—Å—Ç–∞—Ä–µ–≤—à–∏–µ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–∏–≤–Ω—ã–µ —Ñ–∞–π–ª—ã git worktrees –∏ –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ —É–¥–∞–ª—è–µ—Ç –ø—É—Å—Ç—ã–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏.

**–ß—Ç–æ –¥–µ–ª–∞–µ—Ç –∫–æ–º–∞–Ω–¥–∞:**
- –ù–∞—Ö–æ–¥–∏—Ç –∏ —É–¥–∞–ª—è–µ—Ç –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–∏–≤–Ω—ã–µ —Ñ–∞–π–ª—ã –¥–ª—è –Ω–µ—Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö worktrees
- –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ —É–¥–∞–ª—è–µ—Ç –ø—É—Å—Ç—ã–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ –≤ `megacampus2-worktrees/`
- –ü—Ä–æ–≤–µ—Ä—è–µ—Ç —Ü–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç—å worktrees
- –í–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –ø–æ–≤—Ä–µ–∂–¥–µ–Ω–Ω—ã–µ worktrees (–µ—Å–ª–∏ –≤–æ–∑–º–æ–∂–Ω–æ)

**–ê—Ä–≥—É–º–µ–Ω—Ç—ã:**
- `[--dry-run]` - –ø–æ–∫–∞–∑–∞—Ç—å —á—Ç–æ –±—É–¥–µ—Ç —É–¥–∞–ª–µ–Ω–æ –±–µ–∑ —É–¥–∞–ª–µ–Ω–∏—è (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
- `[--remove-dirs]` - —É–¥–∞–ª–∏—Ç—å –ø—É—Å—Ç—ã–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

**–ü—Ä–∏–º–µ—Ä—ã:**
```bash
/worktree-cleanup
/worktree-cleanup --dry-run
/worktree-cleanup --remove-dirs
/worktree-cleanup --dry-run --remove-dirs
```

---

## Your Task

### Step 1: –ü–æ–ª—É—á–µ–Ω–∏–µ –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤

–ò–∑–≤–ª–µ–∫–∏ —Ñ–ª–∞–≥–∏ –∏–∑ –∑–∞–ø—Ä–æ—Å–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:
- `--dry-run` - —Ç–æ–ª—å–∫–æ –ø–æ–∫–∞–∑–∞—Ç—å, –Ω–µ —É–¥–∞–ª—è—Ç—å (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π)
- `--remove-dirs` - —É–¥–∞–ª–∏—Ç—å –ø—É—Å—Ç—ã–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π)

---

### Step 2: –ê–Ω–∞–ª–∏–∑ —Ç–µ–∫—É—â–µ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è

1. **–ü–æ–ª—É—á–∏—Ç—å —Å–ø–∏—Å–æ–∫ worktrees**
   ```bash
   git worktree list --porcelain
   ```

2. **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é worktrees**
   ```bash
   ls -la ../megacampus2-worktrees/ 2>/dev/null
   ```

3. **–ù–∞–π—Ç–∏ orphaned worktrees**
   - –î–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ –≤ `megacampus2-worktrees/`, –∫–æ—Ç–æ—Ä—ã—Ö –Ω–µ—Ç –≤ `git worktree list`
   - Worktrees –≤ `git worktree list`, –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ –∫–æ—Ç–æ—Ä—ã—Ö –Ω–µ —Å—É—â–µ—Å—Ç–≤—É—é—Ç

---

### Step 3: –ü–æ–∏—Å–∫ –ø—Ä–æ–±–ª–µ–º

**–¢–∏–ø—ã –ø—Ä–æ–±–ª–µ–º:**

1. **Prunable worktrees** - –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–∏–≤–Ω—ã–µ —Ñ–∞–π–ª—ã –¥–ª—è —É–¥–∞–ª–µ–Ω–Ω—ã—Ö worktrees
2. **Orphaned directories** - –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ –±–µ–∑ git worktree –∑–∞–ø–∏—Å–µ–π
3. **Missing directories** - worktree –∑–∞–ø–∏—Å–∏ –±–µ–∑ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–π
4. **Empty directories** - –ø—É—Å—Ç—ã–µ –ø–∞–ø–∫–∏ –≤ megacampus2-worktrees/

–î–ª—è –∫–∞–∂–¥–æ–π –ø—Ä–æ–±–ª–µ–º—ã —Å–æ–±–µ—Ä–∏ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é.

---

### Step 4: Git Worktree Prune

1. **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ –±—É–¥–µ—Ç —É–¥–∞–ª–µ–Ω–æ** (–µ—Å–ª–∏ --dry-run)
   ```bash
   git worktree prune --dry-run --verbose
   ```

2. **–í—ã–ø–æ–ª–Ω–∏—Ç—å cleanup** (–µ—Å–ª–∏ –Ω–µ --dry-run)
   ```bash
   git worktree prune --verbose
   ```

---

### Step 5: –£–¥–∞–ª–µ–Ω–∏–µ orphaned –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–π

–î–ª—è –∫–∞–∂–¥–æ–π orphaned –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏:

1. **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ**
   ```bash
   ls -la ../megacampus2-worktrees/DIRNAME/
   ```

2. **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å git —Å—Ç–∞—Ç—É—Å**
   ```bash
   cd ../megacampus2-worktrees/DIRNAME && git status 2>&1
   ```

3. **–ï—Å–ª–∏ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è –≤–∞–ª–∏–¥–Ω–∞, –Ω–æ –Ω–µ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∞:**
   - –ü–æ–ø—ã—Ç–∞—Ç—å—Å—è –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —á–µ—Ä–µ–∑ `git worktree repair`
   ```bash
   git worktree repair ../megacampus2-worktrees/DIRNAME
   ```

4. **–ï—Å–ª–∏ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è –Ω–µ–≤–∞–ª–∏–¥–Ω–∞ –∏–ª–∏ –ø—É—Å—Ç–∞—è:**
   - –ï—Å–ª–∏ --dry-run: –ø–æ–∫–∞–∑–∞—Ç—å —á—Ç–æ –±—É–¥–µ—Ç —É–¥–∞–ª–µ–Ω–æ
   - –ï—Å–ª–∏ --remove-dirs: —É–¥–∞–ª–∏—Ç—å –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é
   ```bash
   rm -rf ../megacampus2-worktrees/DIRNAME
   ```

---

### Step 6: –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ü–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç–∏

1. **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≤—Å–µ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ worktrees**
   ```bash
   git worktree list --porcelain
   ```

2. **–î–ª—è worktrees —Å missing directories:**
   - –ü–æ–∫–∞–∑–∞—Ç—å –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ
   - –ü—Ä–µ–¥–ª–æ–∂–∏—Ç—å —É–¥–∞–ª–∏—Ç—å —á–µ—Ä–µ–∑ `git worktree remove`

---

### Step 7: –í—ã–≤–æ–¥ –æ—Ç—á–µ—Ç–∞

**Dry-run —Ä–µ–∂–∏–º:**
```markdown
# Worktree Cleanup Report (DRY RUN)

## –ß—Ç–æ –±—É–¥–µ—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–æ:

### Git Worktree Prune
- üóëÔ∏è –ë—É–¥–µ—Ç —É–¥–∞–ª–µ–Ω–æ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–∏–≤–Ω—ã—Ö –∑–∞–ø–∏—Å–µ–π: N
  - worktree-1: /–ø—É—Ç—å/–∫/worktree-1 (–¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç)
  - worktree-2: /–ø—É—Ç—å/–∫/worktree-2 (–¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è —É–¥–∞–ª–µ–Ω–∞)

### Orphaned Directories [–µ—Å–ª–∏ --remove-dirs]
- üóëÔ∏è –ë—É–¥–µ—Ç —É–¥–∞–ª–µ–Ω–æ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–π: N
  - ../megacampus2-worktrees/old-feature (–Ω–µ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω –≤ git)
  - ../megacampus2-worktrees/test (–ø—É—Å—Ç–∞—è –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è)

### –í–æ—Å—Å—Ç–∞–Ω–æ–≤–∏–º—ã–µ Worktrees
- üîß –ë—É–¥–µ—Ç –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ: N
  - ../megacampus2-worktrees/recoverable-feature (–º–æ–∂–Ω–æ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —á–µ—Ä–µ–∑ repair)

---

üí° **–î–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è cleanup:**
```bash
/worktree-cleanup  # –≤—ã–ø–æ–ª–Ω–∏—Ç—å prune
/worktree-cleanup --remove-dirs  # –≤—ã–ø–æ–ª–Ω–∏—Ç—å prune + —É–¥–∞–ª–∏—Ç—å –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏
```
```

**–û–±—ã—á–Ω—ã–π —Ä–µ–∂–∏–º:**
```markdown
# Worktree Cleanup Report

## ‚úÖ –í—ã–ø–æ–ª–Ω–µ–Ω–æ

### Git Worktree Prune
- ‚úÖ –£–¥–∞–ª–µ–Ω–æ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–∏–≤–Ω—ã—Ö –∑–∞–ø–∏—Å–µ–π: N
  - worktree-1: /–ø—É—Ç—å/–∫/worktree-1
  - worktree-2: /–ø—É—Ç—å/–∫/worktree-2

### Orphaned Directories [–µ—Å–ª–∏ --remove-dirs]
- ‚úÖ –£–¥–∞–ª–µ–Ω–æ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–π: N
  - ../megacampus2-worktrees/old-feature (N MB –æ—Å–≤–æ–±–æ–∂–¥–µ–Ω–æ)
  - ../megacampus2-worktrees/test

### –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ Worktrees
- ‚úÖ –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ: N
  - ../megacampus2-worktrees/recoverable-feature

---

## üìä –¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ

**–ê–∫—Ç–∏–≤–Ω—ã–µ worktrees:** N
```
[–≤—ã–≤–æ–¥ git worktree list]
```

**–î–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ –≤ megacampus2-worktrees/:** N
```
[—Å–ø–∏—Å–æ–∫ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–π]
```

**–í—Å–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–º worktrees:** ‚úÖ

---

## üíæ –û—Å–≤–æ–±–æ–∂–¥–µ–Ω–æ –º–µ—Å—Ç–∞

- –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–∏–≤–Ω—ã–µ —Ñ–∞–π–ª—ã: ~X KB
- –î–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏: ~X MB [–µ—Å–ª–∏ --remove-dirs]
- –í—Å–µ–≥–æ: ~X MB

---

## üí° –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

[–ï—Å–ª–∏ –Ω–∞—à–ª–∏—Å—å –ø—Ä–æ–±–ª–µ–º—ã, –∫–æ—Ç–æ—Ä—ã–µ –Ω–µ –±—ã–ª–∏ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏]

**Missing directories:**
- worktree-name: /–ø—É—Ç—å/–∫/worktree

  –£–¥–∞–ª–∏—Ç—å:
  ```bash
  git worktree remove worktree-name
  ```

**–ü–æ–¥–æ–∑—Ä–∏—Ç–µ–ª—å–Ω—ã–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏:** [–µ—Å–ª–∏ –Ω–µ –±—ã–ª --remove-dirs]
- ../megacampus2-worktrees/suspicious-dir

  –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∏ —É–¥–∞–ª–∏—Ç—å –≤—Ä—É—á–Ω—É—é:
  ```bash
  cd ../megacampus2-worktrees/suspicious-dir
  git status  # –ø—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ
  cd ../../megacampus2
  /worktree-remove suspicious-dir  # –µ—Å–ª–∏ –Ω–µ –Ω—É–∂–µ–Ω
  ```
```

**–ï—Å–ª–∏ –Ω–∏—á–µ–≥–æ –Ω–µ –Ω–∞–π–¥–µ–Ω–æ:**
```markdown
# Worktree Cleanup Report

‚ú® **–í—Å–µ —á–∏—Å—Ç–æ!**

–ù–µ –Ω–∞–π–¥–µ–Ω–æ –ø—Ä–æ–±–ª–µ–º —Å worktrees:
- ‚úÖ –ù–µ—Ç —É—Å—Ç–∞—Ä–µ–≤—à–∏—Ö –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–∏–≤–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤
- ‚úÖ –ù–µ—Ç orphaned –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–π
- ‚úÖ –í—Å–µ worktrees –≤–∞–ª–∏–¥–Ω—ã
- ‚úÖ –í—Å–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—Ç –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–º worktrees

---

## üìä –¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ

**–ê–∫—Ç–∏–≤–Ω—ã–µ worktrees:** N
```
[–≤—ã–≤–æ–¥ git worktree list]
```

**–î–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ –≤ megacampus2-worktrees/:** N (–≤—Å–µ –≤–∞–ª–∏–¥–Ω—ã)

---

üí° **–ü–æ–ª–µ–∑–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã:**
- `/worktree-list` - —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö worktrees
- `/worktree-create <name>` - —Å–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–π worktree
- `/worktree-remove <name>` - —É–¥–∞–ª–∏—Ç—å worktree
```

---

## –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫

**–ï—Å–ª–∏ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è megacampus2-worktrees –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç:**
```markdown
‚ÑπÔ∏è –î–∏—Ä–µ–∫—Ç–æ—Ä–∏—è worktrees –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç

–ü—É—Ç—å: `/home/me/code/megacampus2-worktrees/`

–≠—Ç–æ –Ω–æ—Ä–º–∞–ª—å–Ω–æ, –µ—Å–ª–∏ –≤—ã –µ—â–µ –Ω–µ —Å–æ–∑–¥–∞–≤–∞–ª–∏ worktrees.

**–°–æ–∑–¥–∞—Ç—å –ø–µ—Ä–≤—ã–π worktree:**
```bash
/worktree-create <feature-name>
```
```

**–ï—Å–ª–∏ –Ω–µ—Ç –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞:**
```markdown
‚ùå –ù–µ—Ç –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞ –∫ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏

–ü—É—Ç—å: `/home/me/code/megacampus2-worktrees/`

–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∞:
```bash
ls -la ../megacampus2-worktrees/
chmod -R u+rwx ../megacampus2-worktrees/
```
```

**–ï—Å–ª–∏ git worktree repair –Ω–µ —Å—Ä–∞–±–æ—Ç–∞–ª:**
```markdown
‚ö†Ô∏è –ù–µ —É–¥–∞–ª–æ—Å—å –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å worktree –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏

Worktree: `../megacampus2-worktrees/DIRNAME`

**–í–∞—Ä–∏–∞–Ω—Ç—ã:**

1. **–£–¥–∞–ª–∏—Ç—å –∏ –ø–µ—Ä–µ—Å–æ–∑–¥–∞—Ç—å:**
   ```bash
   rm -rf ../megacampus2-worktrees/DIRNAME
   /worktree-create DIRNAME
   ```

2. **–í—Ä—É—á–Ω—É—é —É–¥–∞–ª–∏—Ç—å –∑–∞–ø–∏—Å—å:**
   ```bash
   git worktree remove --force DIRNAME
   ```

3. **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ:**
   ```bash
   cd ../megacampus2-worktrees/DIRNAME
   git status
   # –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –≤–∞–∂–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è, –∑–∞—Ç–µ–º —É–¥–∞–ª–∏—Ç—å
   ```
```

---

## –î–µ—Ç–∞–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è

### –ß—Ç–æ –¥–µ–ª–∞–µ—Ç git worktree prune?

Git worktree prune —É–¥–∞–ª—è–µ—Ç –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–∏–≤–Ω—ã–µ —Ñ–∞–π–ª—ã –≤ `.git/worktrees/` –¥–ª—è worktrees, –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ –∫–æ—Ç–æ—Ä—ã—Ö –±–æ–ª—å—à–µ –Ω–µ —Å—É—â–µ—Å—Ç–≤—É—é—Ç.

**–ö–æ–≥–¥–∞ —ç—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç:**
- –î–∏—Ä–µ–∫—Ç–æ—Ä–∏—è worktree –±—ã–ª–∞ —É–¥–∞–ª–µ–Ω–∞ –≤—Ä—É—á–Ω—É—é (rm -rf)
- –î–∏—Ä–µ–∫—Ç–æ—Ä–∏—è –±—ã–ª–∞ –ø–µ—Ä–µ–º–µ—â–µ–Ω–∞
- –§–∞–π–ª–æ–≤–∞—è —Å–∏—Å—Ç–µ–º–∞ –±—ã–ª–∞ –æ—á–∏—â–µ–Ω–∞

**–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å:**
- ‚úÖ –ë–µ–∑–æ–ø–∞—Å–Ω–æ - —É–¥–∞–ª—è–µ—Ç —Ç–æ–ª—å–∫–æ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ
- ‚úÖ –ù–µ —Ç—Ä–æ–≥–∞–µ—Ç —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ worktrees
- ‚úÖ –ù–µ —É–¥–∞–ª—è–µ—Ç –∫–æ–º–º–∏—Ç—ã –∏–ª–∏ –≤–µ—Ç–∫–∏

### –ß—Ç–æ —Ç–∞–∫–æ–µ orphaned directories?

Orphaned directories - —ç—Ç–æ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ –≤ `megacampus2-worktrees/`, –∫–æ—Ç–æ—Ä—ã–µ:
- –ù–µ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã –≤ `git worktree list`
- –ú–æ–≥—É—Ç —Å–æ–¥–µ—Ä–∂–∞—Ç—å —Å—Ç–∞—Ä—ã–π –∫–æ–¥
- –ó–∞–Ω–∏–º–∞—é—Ç –º–µ—Å—Ç–æ –Ω–∞ –¥–∏—Å–∫–µ

**–ü—Ä–∏—á–∏–Ω—ã –ø–æ—è–≤–ª–µ–Ω–∏—è:**
- –†—É—á–Ω–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ worktree –±–µ–∑ `git worktree remove`
- –ü—Ä–µ—Ä–≤–∞–Ω–Ω–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ worktree
- –ö–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–π –≤—Ä—É—á–Ω—É—é

**–ö–∞–∫ cleanup –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç:**
1. –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –≤–∞–ª–∏–¥–Ω–æ—Å—Ç—å (–µ—Å—Ç—å –ª–∏ .git)
2. –ü—ã—Ç–∞–µ—Ç—Å—è –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —á–µ—Ä–µ–∑ `git worktree repair`
3. –ï—Å–ª–∏ –Ω–µ —É–¥–∞–ª–æ—Å—å –∏ —É–∫–∞–∑–∞–Ω `--remove-dirs` ‚Üí —É–¥–∞–ª—è–µ—Ç

---

## –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è

–†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –∑–∞–ø—É—Å–∫–∞—Ç—å cleanup –ø–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–∏:

```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏–µ
/worktree-cleanup --dry-run

# –í—ã–ø–æ–ª–Ω–∏—Ç—å cleanup
/worktree-cleanup

# –ü–æ–ª–Ω–∞—è –æ—á–∏—Å—Ç–∫–∞ (–≤–∫–ª—é—á–∞—è –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏)
/worktree-cleanup --remove-dirs
```

**–ö–æ–≥–¥–∞ –∑–∞–ø—É—Å–∫–∞—Ç—å:**
- –ü–æ—Å–ª–µ —É–¥–∞–ª–µ–Ω–∏—è worktrees –≤—Ä—É—á–Ω—É—é
- –ü—Ä–∏ –ø—Ä–æ–±–ª–µ–º–∞—Ö —Å git worktree commands
- –ü–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–∏ (—Ä–∞–∑ –≤ –Ω–µ–¥–µ–ª—é/–º–µ—Å—è—Ü)
- –ü–µ—Ä–µ–¥ —Å–æ–∑–¥–∞–Ω–∏–µ–º –Ω–æ–≤—ã—Ö worktrees

---

## –ü—Ä–∏–º–µ—á–∞–Ω–∏—è

- –ö–æ–º–∞–Ω–¥–∞ –±–µ–∑–æ–ø–∞—Å–Ω–∞ –∏ –Ω–µ —É–¥–∞–ª—è–µ—Ç –∫–æ–º–º–∏—Ç—ã –∏–ª–∏ –≤–∞–∂–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
- --dry-run –ø–æ–∑–≤–æ–ª—è–µ—Ç –ø—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ –±—É–¥–µ—Ç —É–¥–∞–ª–µ–Ω–æ
- --remove-dirs —É–¥–∞–ª—è–µ—Ç —Ç–æ–ª—å–∫–æ –Ω–µ–≤–∞–ª–∏–¥–Ω—ã–µ/–ø—É—Å—Ç—ã–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏
- –í—Å–µ–≥–¥–∞ –¥–µ–ª–∞–µ—Ç backup –ø—Ä–æ–≤–µ—Ä–∫—É –ø–µ—Ä–µ–¥ —É–¥–∞–ª–µ–Ω–∏–µ–º
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—ã—Ç–∞–µ—Ç—Å—è –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å worktrees –∫–æ–≥–¥–∞ –≤–æ–∑–º–æ–∂–Ω–æ
